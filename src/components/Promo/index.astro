---
import { Icon } from 'astro-icon';

interface Props {
  name?: string;
  author?: string;
  description?: string;
  url: {
    name: string;
    url: string;
    external: boolean;
  };
  class?: string;
}

const {
  name,
  author,
  description,
  url,
  class: className,
  ...attrs
} = Astro.props as Props;
---

<article class:list={[className, 'promo space-y-3 border-b border-gray py-12']} {...attrs}>
  <h4 class="h5">
    {name}
    {author && <span>by {author}</span>}
  </h4>

  <p>{description}</p>

  {
    url && (
      <a
        href={url.url}
        class="flex items-end text-[1.875rem] leading-[1.06666667]"
        rel={url.external ? 'noopener noreferer' : null}
        target={url.external ? '_blank' : ''}
      >
        <span class="mr-1 underline">{url.name}</span>
        <Icon name="arrow/45/24" />
      </a>
    )
  }
</article>
