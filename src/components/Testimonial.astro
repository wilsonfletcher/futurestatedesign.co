---
import type { CollectionEntry } from 'astro:content'

interface Props {
  testimonial: CollectionEntry<'testimonial'>
  class?: string
}

const { testimonial, class: className } = Astro.props as Props
const { data } = testimonial
const { author, reviewBody } = data
---

<figure
  class:list={[
    'bg-white p-10 text-black flex flex-col items-center gap-6',
    className,
  ]}
>
  {
    author.image && (
      <img
        src={author.image.url}
        alt={author.image.alt}
        class="object-center object-cover"
      />
    )
  }

  <blockquote>
    <p class="text-4xl text-center">{reviewBody}</p>
  </blockquote>

  <figcaption class="text-black/50 text-2xl">
    {author.name}, {author.worksFor}
  </figcaption>
</figure>
