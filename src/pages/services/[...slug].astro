---
import { getCollection } from 'astro:content'

import Default from '@/layouts/Default.astro'
import { SITE } from '@/config'

export async function getStaticPaths() {
  const pageEntries = await getCollection('service')
  return pageEntries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }))
}

const { entry } = Astro.props
const { data } = entry
const { name, description } = data
const { Content } = await entry.render()
---

<Default
  {...entry.data}
  title={`${name} - ${SITE.name}`}
  description={`${name}, ${description}`}
  url={entry.slug}
>
  <article id={entry.data.slug}>
    <div class="container">
      <div class="lg:grid lg:grid-cols-8 lg:grid-gap-10">
        <div class="lg:col-start-3 lg:col-span-6">
          <h1 class="sr-only">{name}</h1>
          <p class="h1">{description}</p>
        </div>
      </div>
    </div>
    <Content />
  </article>
</Default>
